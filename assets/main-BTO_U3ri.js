import{S as g,i as y,a as h}from"./vendor-C4-ZuMk8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();let v=new g(".gallery a",{overlayOpacity:.9,captionsData:"alt",captionDelay:250});function L(s){const t=document.querySelector(".gallery");if(s.total!=0){let o=s.hits.map(l=>`<li class="gallery-item">
          <a class="gallery-link" href="${l.largeImageURL}">
            <img
              class="gallery-image"
              src="${l.webformatURL}"
              data-source="${l.largeImageURL}"
              alt="${l.tags}"
            />
          </a>          
          <ul class='gallery-stat-list'>
            <li class='gallery-stat-item'><p class='item-caption'>Likes</p><p class="item-value">${l.likes}</p></li>
            <li class='gallery-stat-item'><p class='item-caption'>Views</p><p class="item-value">${l.views}</p></li>
            <li class='gallery-stat-item'><p class='item-caption'>Comments</p><p class="item-value">${l.comments}</p></li>
            <li class='gallery-stat-item'><p class='item-caption'>Downloads</p><p class="item-value">${l.downloads}</p></li>
          </ul>          
        </li>`).join("");t.insertAdjacentHTML("beforeend",o),v.refresh()}}function u(s,t="red"){y.show({icon:"icon-person",message:s,color:t,position:"topRight",transitionIn:"bounceInDown",transitionOut:"flipOutX",closeOnClick:!0,displayMode:"replace",timeout:3e3})}const c=document.querySelector(".loader"),n=document.querySelector(".btn-more"),m=15;async function p(s,t){c.classList.add("is-active"),n.classList.remove("is-active"),await h.get("https://pixabay.com/api/?",{params:{key:"46676876-9d0aaf878b11d8c614d2fd644",q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:m,page:t}}).then(o=>{if(o.data.totalHits>0){const l=Math.ceil(o.data.totalHits/m),e=o.data.totalHits-m*t;console.log("totalPages:"+l),console.log("current page:"+t),console.log(`Images left: ${e}`),t>l?(n.classList.remove("is-active"),c.classList.remove("is-active"),u("We're sorry, but you've reached the end of search results.","green")):(L(o.data),c.classList.remove("is-active"),e>0?n.classList.add("is-active"):(n.classList.remove("is-active"),u("We're sorry, but you've reached the end of search results.","green")),a)}else console.log("Ничего не найдено"+o.data.totalHits),c.classList.remove("is-active"),u("Sorry, there are no images matching your search query. Please try again!")}).catch(o=>console.log(o))}let f="",r=1;const b=document.querySelector(".btn-more");b.addEventListener("click",S);function S(){r++,p(f,r).then(()=>{const s=document.querySelector(".gallery");console.log(s.children[0].getBoundingClientRect().height),window.scrollBy(0,s.children[0].getBoundingClientRect().height*2)}).catch(s=>console.log(s))}const w=document.querySelector(".form");w.addEventListener("submit",q);function q(s){s.preventDefault();const t=s.target.elements.search.value.trim();if(t!==""){if(f===t)r++;else{const o=document.querySelector(".gallery");o.innerHTML="",r=1,f=t}p(t,r)}else u("🚫 Please fill in the search images field")}
//# sourceMappingURL=main-BTO_U3ri.js.map
