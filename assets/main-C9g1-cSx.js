import{S as p,i as g,a as y}from"./vendor-C4-ZuMk8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();let h=new p(".gallery a",{overlayOpacity:.9,captionsData:"alt",captionDelay:250});function v(s){const t=document.querySelector(".gallery");if(s.total!=0){let a=s.hits.map(l=>`<li class="gallery-item">
          <a class="gallery-link" href="${l.largeImageURL}">
            <img
              class="gallery-image"
              src="${l.webformatURL}"
              data-source="${l.largeImageURL}"
              alt="${l.tags}"
            />
          </a>          
          <ul class='gallery-stat-list'>
            <li class='gallery-stat-item'><p class='item-caption'>Likes</p><p class="item-value">${l.likes}</p></li>
            <li class='gallery-stat-item'><p class='item-caption'>Views</p><p class="item-value">${l.views}</p></li>
            <li class='gallery-stat-item'><p class='item-caption'>Comments</p><p class="item-value">${l.comments}</p></li>
            <li class='gallery-stat-item'><p class='item-caption'>Downloads</p><p class="item-value">${l.downloads}</p></li>
          </ul>          
        </li>`).join("");t.insertAdjacentHTML("beforeend",a),h.refresh()}}function n(s,t="red"){g.show({icon:"icon-person",message:s,color:t,position:"topRight",transitionIn:"bounceInDown",transitionOut:"flipOutX",closeOnClick:!0,displayMode:"replace",timeout:3e3})}const r=document.querySelector(".loader"),c=document.querySelector(".btn-more"),d=15;async function f(s,t){r.classList.add("is-active"),c.classList.remove("is-active"),await y.get("https://pixabay.com/api/?",{params:{key:"46676876-9d0aaf878b11d8c614d2fd644",q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:d,page:t}}).then(a=>{if(a.data.totalHits>0){const l=Math.ceil(a.data.totalHits/d),e=a.data.totalHits-d*t;console.log("totalPages:"+l),console.log("current page:"+t),console.log(`Images left: ${e}`),t>l?(c.classList.remove("is-active"),r.classList.remove("is-active"),n("We're sorry, but you've reached the end of search results.","green")):(v(a.data),r.classList.remove("is-active"),e>0?c.classList.add("is-active"):(c.classList.remove("is-active"),n("We're sorry, but you've reached the end of search results.","green")))}else console.log("Ничего не найдено"+a.data.totalHits),r.classList.remove("is-active"),n("Sorry, there are no images matching your search query. Please try again!")}).catch(a=>console.log(a))}let m="",i=1;const L=document.querySelector(".btn-more");L.addEventListener("click",b);function b(){i++,f(m,i).then(()=>{const s=document.querySelector(".gallery");console.log(s.children[0].getBoundingClientRect().height),window.scrollBy(0,s.children[0].getBoundingClientRect().height*2)}).catch(s=>console.log(s))}const S=document.querySelector(".form");S.addEventListener("submit",w);function w(s){s.preventDefault();const t=s.target.elements.search.value.trim();if(t!==""){if(m===t)i++;else{const a=document.querySelector(".gallery");a.innerHTML="",i=1,m=t}f(t,i)}else n("🚫 Please fill in the search images field")}
//# sourceMappingURL=main-C9g1-cSx.js.map
